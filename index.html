<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AmitTG - List Tool (Dark)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #ffffff;
      padding: 20px;
      max-width: 600px;
      margin: auto;
    }
    h2, h3 { text-align: center; color: #00ffe7; }
    textarea, input {
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 8px;
      background: #1e1e1e;
      border: 1px solid #555;
      color: #fff;
    }
    button {
      padding: 10px;
      margin: 5px 0;
      border: none;
      background-color: #00b894;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      font-weight: bold;
    }
    button:hover {
      background-color: #00cec9;
    }
    pre {
      background: #1e1e1e;
      padding: 10px;
      white-space: pre-wrap;
      border-radius: 8px;
      color: #dfe6e9;
      border: 1px solid #555;
    }
  </style>
</head>
<body>

<h2>📋 AmitTG - List Maker</h2>

<button onclick="showSection('list')">📋 List</button>
<button onclick="showSection('mono')">🔤 Mono</button>
<button onclick="showSection('show')">👀 Show</button>
<button onclick="resetList()">♻️ Reset</button>
<button onclick="showSection('add')">➕ Add Details</button>

<div id="listSection" style="display:none">
  <h3>Enter Date</h3>
  <input id="dateInput" placeholder="e.g., 14 May" />
  <h3>Enter List</h3>
  <textarea id="listInput" rows="8" placeholder="1. ABCDJDJDJ\n2. deleted\n..."></textarea>
  <button onclick="saveList()">✅ Save List</button>
</div>

<div id="monoSection" style="display:none">
  <h3>Mono Format Viewer</h3>
  <textarea id="monoInput" rows="8" placeholder="ABC123456\nXYZ987654\n..."></textarea>
  <button onclick="convertMono()">Convert</button>
  <pre id="monoOutput"></pre>
</div>

<div id="addSection" style="display:none">
  <h3>Send Details (5 lines)</h3>
  <textarea id="addInput" rows="6" placeholder="CODE AMOUNT\nCHANNEL\nTOTAL\nDATE\nID"></textarea>
  <button onclick="generateAddDetails()">Generate</button>
  <pre id="addOutput"></pre>
</div>

<div id="showSection" style="display:none">
  <h3>Stored List</h3>
  <pre id="showOutput">No list saved yet.</pre>
</div>

<script>
  let userData = {
    list: [],
    date: '',
    next_insert_index: 0
  };

  function showSection(id) {
    ['list', 'mono', 'add', 'show'].forEach(sec => {
      document.getElementById(sec + 'Section').style.display = sec === id ? 'block' : 'none';
    });
    if (id === 'show') {
      showList();
    }
  }

  function saveList() {
    const date = document.getElementById('dateInput').value.trim();
    const lines = document.getElementById('listInput').value.trim().split("\n");
    const cleaned = [];

    lines.forEach(ln => {
      ln = ln.trim();
      if (!ln) return;
      const parts = ln.split(" ");
      const serial = parseInt(parts[0]);
      if (ln.toLowerCase().includes("del")) {
        cleaned.push({ serial: serial, value: "deleted" });
      } else {
        cleaned.push({ serial: serial, value: parts[parts.length - 1] });
      }
    });

    userData = {
      list: cleaned,
      date: date,
      next_insert_index: 0
    };

    localStorage.setItem("userList", JSON.stringify(userData));
    alert("✅ List saved successfully!");
  }

  function showList() {
    const saved = localStorage.getItem("userList");
    if (!saved) return;

    const data = JSON.parse(saved);
    let text = `**${data.date}**\n\n****\n\n`;

    data.list.forEach(itm => {
      let value = itm.value.replace(/\b([A-Za-z0-9]{9})\b/g, "`$1`");
      text += `${itm.serial}.   ${value}\n\n`;
    });

    document.getElementById('showOutput').innerText = text;
  }

  function resetList() {
    localStorage.removeItem("userList");
    userData = { list: [], date: '', next_insert_index: 0 };
    alert("🧹 List reset successfully.");
    showSection('show');
  }

  function convertMono() {
    const lines = document.getElementById('monoInput').value.trim().split("\n");
    const out = lines.map(l => l.trim() ? `\`${l.trim()}\`` : "").filter(Boolean).join("\n\n");
    document.getElementById('monoOutput').innerText = out;
  }

  function generateAddDetails() {
    const lines = document.getElementById('addInput').value.trim().split("\n");
    if (lines.length !== 5) {
      alert("❌ Please enter exactly 5 lines.");
      return;
    }

    const match = lines[0].trim().match(/^(\w+)\s+(\d+)$/);
    if (!match) {
      alert("❌ First line format should be: CODE AMOUNT");
      return;
    }

    const [_, code, amount] = match;
    const channel = lines[1].trim();
    const total = lines[2].trim();
    const date = lines[3].trim();
    const id = lines[4].trim();

    const formatted = `
𝗡𝗨𝗠𝗕𝗘R:  \`${code}\` {${amount}}

𝗖𝗛𝗔𝗡𝗡𝗘𝗟 𝗡AME--  ${channel} ✅

𝗧𝗢𝗧𝗔𝗟 N𝗨𝗠𝗕𝗘𝗥 :-  ${total} ✅

𝗗𝗔𝗧𝗘 :- ${date} ✅

𝗣𝗘𝗡𝗗𝗜𝗡𝗚 𝗣𝗔𝗬𝗠𝗘𝗡𝗧:-

ID:- ${id} ✅
`;

    document.getElementById('addOutput').innerText = formatted;
  }
</script>

</body>
</html>
