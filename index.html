<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>@AmitTG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      background: #111;
      color: white;
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      padding: 20px;
    }
    input, textarea {
      width: 90%;
      padding: 10px;
      margin: 8px 0;
      border-radius: 8px;
      border: none;
      background: #1e1e1e;
      color: white;
    }
    button {
      padding: 10px 15px;
      margin: 5px;
      border-radius: 8px;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
    .btn-list { background: #6a1b9a; color: white; }
    .btn-mono { background: #0277bd; color: white; }
    .btn-save { background: #c62828; color: white; }
    .btn-confirm { background: #2e7d32; color: white; }
    .btn-copy { background: #f57c00; color: white; }

    .output {
      background: #000;
      margin-top: 20px;
      padding: 15px;
      border-radius: 10px;
      white-space: pre-wrap;
      text-align: left;
    }

    .toast {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: #111;
      color: white;
      padding: 30px;
      border-radius: 50%;
      display: none;
      z-index: 999;
      box-shadow: 0 0 20px #00e676;
      font-weight: bold;
      height: 130px;
      width: 130px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      animation: scaleIn 0.3s ease-in-out;
    }

    @keyframes scaleIn {
      from { transform: scale(0); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .loader {
      border: 5px solid #444;
      border-top: 5px solid #00e676;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin-top: 10px;
    }

    @keyframes spin {
      0% { transform: rotate(0); }
      100% { transform: rotate(360deg); }
    }

    #listSection, #monoSection {
      display: none;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<!-- 🔐 Login -->
<h2>🔐 Login</h2>
<input id="username" placeholder="Enter your name...">
<button onclick="login()" class="btn-save">📕 Login</button>
<p><b>User:</b> <span id="user">None</span></p>

<!-- 🔘 Buttons -->
<button onclick="toggleSection('listSection')" class="btn-list">📋 List</button>
<button onclick="toggleSection('monoSection')" class="btn-mono">💠 Mono</button>

<!-- 💾 Save Code -->
<input id="codeInput" placeholder="Enter your code">
<button onclick="saveCode()" class="btn-save">💾 Save Code</button>

<!-- 📋 List Input -->
<div id="listSection">
  <input id="dateInput" placeholder="Enter Date (e.g. 14 May)">
  <textarea id="listInput" placeholder="Paste your numbered list..."></textarea>
  <button onclick="saveList()" class="btn-confirm">✅ Confirm Save</button>
</div>

<!-- 🔤 Mono Input -->
<div id="monoSection">
  <textarea id="monoInput" placeholder="Paste mono list with codes..."></textarea>
  <button onclick="convertMono()" class="btn-mono">⚙️ Convert Mono</button>
  <div id="monoResult" class="output"></div>
  <button onclick="copyMono()" class="btn-copy">📋 Copy</button>
</div>

<!-- 👁 Show Area (Always Visible) -->
<h3>👁 Saved Output</h3>
<div id="showOutput" class="output">No data yet.</div>

<!-- 🔄 Toast -->
<div id="toast" class="toast">
  <div id="toastText">Saved</div>
  <div class="loader"></div>
</div>

<!-- 📜 JavaScript -->
<script>
let currentUser = "";

function login() {
  const name = document.getElementById("username").value.trim();
  if (!name) return;
  currentUser = name;
  document.getElementById("user").innerText = name;
  showToast("✅ Login Saved");
}

function toggleSection(id) {
  document.getElementById("listSection").style.display = "none";
  document.getElementById("monoSection").style.display = "none";
  if (id) document.getElementById(id).style.display = "block";
}

function saveList() {
  const list = document.getElementById("listInput").value.trim().split("\\n");
  const date = document.getElementById("dateInput").value.trim();
  if (!list.length || !date) return;
  let output = `**${date}**\\n\\n****\\n`;
  list.forEach(l => {
    if (l.trim()) {
      const parts = l.split(" ");
      const serial = parts[0].replace(".", "");
      const value = l.toLowerCase().includes("del") ? "deleted" : parts.slice(-1)[0];
      output += `${serial}.   ${value}\\n\\n`;
    }
  });
  document.getElementById("showOutput").innerText = output;
  showToast("✅ List Saved");
}

function saveCode() {
  const code = document.getElementById("codeInput").value.trim();
  if (!code) return;
  showToast("Saving...");
  setTimeout(() => {
    showToast("✅ Code Saved");
    document.getElementById("codeInput").value = "";
    document.getElementById("showOutput").innerText += `💾 ${code}\\n`;
  }, 1000);
}

function convertMono() {
  const input = document.getElementById("monoInput").value.trim();
  const lines = input.split("\\n");
  const formatted = lines
    .filter(l => l.trim())
    .map(l => l.replace(/\\b([A-Za-z0-9]{8,9})\\b/g, '`$1`'))
    .join("\\n\\n");
  document.getElementById("monoResult").innerText = formatted;
}

function copyMono() {
  const text = document.getElementById("monoResult").innerText;
  navigator.clipboard.writeText(text);
  showToast("📋 Copied");
}

function showToast(message) {
  const toast = document.getElementById("toast");
  const text = document.getElementById("toastText");
  text.innerText = message;
  toast.style.display = "flex";
  setTimeout(() => {
    toast.style.display = "none";
  }, 1800);
}
</script>

</body>
</html>
